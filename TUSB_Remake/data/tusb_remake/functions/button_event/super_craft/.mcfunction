#> tusb_remake:button_event/super_craft/
# 超作業台
### Copyright © 2022 赤石愛
### This software is released under the MIT License, see LICENSE.

### 自動書き換えタグを戻す
execute if data block -2739 90 -362 Items[{tag:{CanPlaceOn: ["#minecraft:all"]}}] run data modify block -2739 90 -362 Items[{tag:{CanPlaceOn: ["#minecraft:all"]}}].tag.CanPlaceOn set value ["minecraft:stone", "minecraft:grass_block", "minecraft:dirt", "minecraft:cobblestone", "minecraft:oak_planks", "minecraft:oak_sapling", "minecraft:bedrock", "minecraft:water", "minecraft:water", "minecraft:lava", "minecraft:lava", "minecraft:sand", "minecraft:gravel", "minecraft:gold_ore", "minecraft:iron_ore", "minecraft:coal_ore", "minecraft:oak_log", "minecraft:oak_leaves", "minecraft:sponge", "minecraft:glass", "minecraft:lapis_ore", "minecraft:lapis_block", "minecraft:dispenser", "minecraft:sandstone", "minecraft:note_block", "minecraft:red_bed", "minecraft:powered_rail", "minecraft:detector_rail", "minecraft:sticky_piston", "minecraft:cobweb", "minecraft:dead_bush", "minecraft:dead_bush", "minecraft:piston", "minecraft:piston_head", "minecraft:white_wool", "minecraft:moving_piston", "minecraft:dandelion", "minecraft:poppy", "minecraft:brown_mushroom", "minecraft:red_mushroom", "minecraft:gold_block", "minecraft:iron_block", "minecraft:smooth_stone_slab", "minecraft:smooth_stone_slab", "minecraft:bricks", "minecraft:tnt", "minecraft:bookshelf", "minecraft:mossy_cobblestone", "minecraft:obsidian", "minecraft:wall_torch", "minecraft:fire", "minecraft:oak_stairs", "minecraft:chest", "minecraft:redstone_wire", "minecraft:diamond_ore", "minecraft:diamond_block", "minecraft:crafting_table", "minecraft:wheat", "minecraft:farmland", "minecraft:furnace", "minecraft:furnace", "minecraft:oak_sign", "minecraft:oak_door", "minecraft:ladder", "minecraft:rail", "minecraft:cobblestone_stairs", "minecraft:oak_wall_sign", "minecraft:lever", "minecraft:stone_pressure_plate", "minecraft:iron_door", "minecraft:oak_pressure_plate", "minecraft:redstone_ore", "minecraft:redstone_ore", "minecraft:redstone_wall_torch", "minecraft:redstone_wall_torch", "minecraft:stone_button", "minecraft:snow", "minecraft:ice", "minecraft:snow_block", "minecraft:cactus", "minecraft:clay", "minecraft:sugar_cane", "minecraft:jukebox", "minecraft:oak_fence", "minecraft:carved_pumpkin", "minecraft:netherrack", "minecraft:soul_sand", "minecraft:glowstone", "minecraft:nether_portal", "minecraft:jack_o_lantern", "minecraft:cake", "minecraft:repeater", "minecraft:repeater", "minecraft:white_stained_glass", "minecraft:oak_trapdoor", "minecraft:infested_stone", "minecraft:stone_bricks", "minecraft:brown_mushroom_block", "minecraft:red_mushroom_block", "minecraft:iron_bars", "minecraft:glass_pane", "minecraft:melon", "minecraft:pumpkin_stem", "minecraft:melon_stem", "minecraft:vine", "minecraft:oak_fence_gate", "minecraft:brick_stairs", "minecraft:stone_brick_stairs", "minecraft:mycelium", "minecraft:lily_pad", "minecraft:nether_bricks", "minecraft:nether_brick_fence", "minecraft:nether_brick_stairs", "minecraft:nether_wart", "minecraft:enchanting_table", "minecraft:brewing_stand", "minecraft:cauldron", "minecraft:end_portal", "minecraft:end_portal_frame", "minecraft:end_stone", "minecraft:dragon_egg", "minecraft:redstone_lamp", "minecraft:redstone_lamp", "minecraft:oak_slab", "minecraft:oak_slab", "minecraft:cocoa", "minecraft:sandstone_stairs", "minecraft:emerald_ore", "minecraft:ender_chest", "minecraft:tripwire_hook", "minecraft:tripwire", "minecraft:emerald_block", "minecraft:spruce_stairs", "minecraft:birch_stairs", "minecraft:jungle_stairs", "minecraft:command_block", "minecraft:beacon", "minecraft:cobblestone_wall", "minecraft:potted_cactus", "minecraft:carrots", "minecraft:potatoes", "minecraft:oak_button", "%%FILTER_ME%%", "minecraft:anvil", "minecraft:trapped_chest", "minecraft:light_weighted_pressure_plate", "minecraft:heavy_weighted_pressure_plate", "minecraft:comparator", "minecraft:comparator", "minecraft:daylight_detector", "minecraft:redstone_block", "minecraft:nether_quartz_ore", "minecraft:hopper", "minecraft:quartz_block", "minecraft:quartz_stairs", "minecraft:activator_rail", "minecraft:dropper", "minecraft:white_terracotta", "minecraft:white_stained_glass_pane", "minecraft:acacia_leaves", "minecraft:acacia_log", "minecraft:acacia_stairs", "minecraft:dark_oak_stairs", "minecraft:slime_block", "minecraft:barrier", "minecraft:iron_trapdoor", "minecraft:prismarine", "minecraft:sea_lantern", "minecraft:hay_block", "minecraft:white_carpet", "minecraft:terracotta", "minecraft:coal_block", "minecraft:packed_ice", "minecraft:sunflower", "minecraft:white_banner", "minecraft:white_wall_banner", "minecraft:daylight_detector", "minecraft:red_sandstone", "minecraft:red_sandstone_stairs", "minecraft:red_sandstone_slab", "minecraft:red_sandstone_slab", "minecraft:spruce_fence_gate", "minecraft:birch_fence_gate", "minecraft:jungle_fence_gate", "minecraft:dark_oak_fence_gate", "minecraft:acacia_fence_gate", "minecraft:spruce_fence", "minecraft:birch_fence", "minecraft:jungle_fence", "minecraft:dark_oak_fence", "minecraft:acacia_fence", "minecraft:spruce_door", "minecraft:birch_door", "minecraft:jungle_door", "minecraft:acacia_door", "minecraft:dark_oak_door", "minecraft:end_rod", "minecraft:chorus_plant", "minecraft:chorus_flower", "minecraft:purpur_block", "minecraft:purpur_pillar", "minecraft:purpur_stairs", "minecraft:purpur_slab", "minecraft:purpur_slab", "minecraft:end_stone_bricks", "minecraft:beetroots", "minecraft:dirt_path", "minecraft:end_gateway", "minecraft:repeating_command_block", "minecraft:chain_command_block", "minecraft:frosted_ice", "minecraft:magma_block", "minecraft:nether_wart_block", "minecraft:red_nether_bricks", "minecraft:bone_block", "minecraft:structure_void", "minecraft:observer", "minecraft:white_shulker_box", "minecraft:orange_shulker_box", "minecraft:magenta_shulker_box", "minecraft:light_blue_shulker_box", "minecraft:yellow_shulker_box", "minecraft:lime_shulker_box", "minecraft:pink_shulker_box", "minecraft:gray_shulker_box", "minecraft:light_gray_shulker_box", "minecraft:cyan_shulker_box", "minecraft:shulker_box", "minecraft:blue_shulker_box", "minecraft:brown_shulker_box", "minecraft:green_shulker_box", "minecraft:red_shulker_box", "minecraft:black_shulker_box", "minecraft:structure_block"]
### ファイナル弁当の元からバグを修正してあげる
execute if data block -2739 90 -362 Items[{tag:{display:{Name:'{"text":"§4§lファイナル弁当"}'}}}] run data modify block -2739 90 -362 Items[{tag:{display:{Name:'{"text":"§4§lファイナル弁当"}'}}}].tag.display.Name set value '{"text":"ファイナル弁当"}'

### 作業台の中身をコピー
clone -2739 90 -362 -2739 90 -362 -2721 70 -355 filtered minecraft:dropper normal
### レシピのチェックを予約
fill -2735 70 -390 -2721 70 -354 minecraft:reinforced_deepslate replace minecraft:command_block[facing=up]
fill -2735 70 -390 -2721 70 -354 minecraft:command_block[facing=up]{Command:"/execute if blocks ~ ~ ~-1 ~ ~ ~-1 -2721 70 -355 all",SuccessCount:0,TrackOutput:false,UpdateLastExecution:true,auto:true,conditionMet:true,powered:false} replace minecraft:reinforced_deepslate
### 結果発表の予約
setblock -2723 70 -352 minecraft:reinforced_deepslate
setblock -2723 70 -352 minecraft:command_block[facing=up]{Command:"/function tusb_remake:button_event/super_craft/result/",SuccessCount:0,TrackOutput:false,UpdateLastExecution:true,auto:true,conditionMet:true,powered:false}
