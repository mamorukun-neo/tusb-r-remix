#> time_limit:time_shield/give_shield

# 一回偽の盾giveでその後データ書き換え?
# まずは時送りの盾そのままgive
#give @s minecraft:shield{BlockEntityTag: {Patterns: [{Pattern: "dls", Color: 3}, {Pattern: "drs", Color: 3}, {Pattern: "sc", Color: 3}, {Pattern: "mr", Color: 7}, {Pattern: "tts", Color: 9}, {Pattern: "bts", Color: 9}, {Pattern: "cbo", Color: 9}, {Pattern: "cr", Color: 9}, {Pattern: "mc", Color: 3}, {Pattern: "bo", Color: 15}, {Pattern: "bo", Color: 3}, {Pattern: "flo", Color: 15}], Base: 7},RepairCost: 1000000000, HideFlags: 32, display: {Lore: ['{"text":"§3時と共に強くなる盾。"}'], Name: '{"text":"§f§ktime§3§l時送りの盾§f§ktime"}'}, Enchantments: [{lvl: 0s, id: "minecraft:unbreaking"}, {lvl: 0s, id: "minecraft:knockback"}, {lvl: 0s, id: "minecraft:sharpness"}], Damage: 0, version: 1, AttributeModifiers: [{Amount: 0.0d, Slot: "offhand", AttributeName: "generic.max_health", Operation: 2, UUID: [I; 0, 2, 0, 1], Name: "HP"}, {Amount: 0.0d, Slot: "offhand", AttributeName: "generic.movement_speed", Operation: 2, UUID: [I; 0, 2, 0, 2], Name: "SPD"}, {Amount: 0.0d, Slot: "offhand", AttributeName: "generic.knockback_resistance", Operation: 2, UUID: [I; 0, 2, 0, 3], Name: "KB"}, {Amount: 0.0d, Slot: "offhand", AttributeName: "generic.attack_damage", Operation: 2, UUID: [I; 0, 2, 0, 4], Name: "ATK"}, {Amount: 0.0d, Slot: "offhand", AttributeName: "generic.armor", Operation: 2, UUID: [I; 0, 2, 0, 5], Name: "AMR"}, {Amount: 0.0d, Slot: "offhand", AttributeName: "generic.attack_speed", Operation: 2, UUID: [I; 0, 2, 0, 6], Name: "ATS"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.max_health", Operation: 2, UUID: [I; 0, 1, 0, 7], Name: "HP"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.movement_speed", Operation: 2, UUID: [I; 0, 1, 0, 8], Name: "SPD"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.knockback_resistance", Operation: 2, UUID: [I; 0, 1, 0, 9], Name: "KB"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.attack_damage", Operation: 2, UUID: [I; 0, 1, 0, 10], Name: "ATK"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.armor", Operation: 2, UUID: [I; 0, 1, 0, 11], Name: "AMR"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.attack_speed", Operation: 2, UUID: [I; 0, 1, 0, 12], Name: "ATS"}]}
give @s minecraft:shield{BlockEntityTag: {Patterns: [{Pattern: "dls", Color: 2}, {Pattern: "drs", Color: 2}, {Pattern: "sc", Color: 2}, {Pattern: "mr", Color: 7}, {Pattern: "tts", Color: 10}, {Pattern: "bts", Color: 10}, {Pattern: "cbo", Color: 10}, {Pattern: "cr", Color: 10}, {Pattern: "mc", Color: 2}, {Pattern: "bo", Color: 15}, {Pattern: "bo", Color: 2}, {Pattern: "flo", Color: 15}], Base: 7},RepairCost: 1000000000, HideFlags: 32, display: {Lore: ['{"text":"§3時と共に強くなる盾。"}'], Name: '{"text":"§f§ktime§3§l時送りの盾§f§ktime"}'}, Enchantments: [{lvl: 0s, id: "minecraft:unbreaking"}, {lvl: 0s, id: "minecraft:knockback"}, {lvl: 0s, id: "minecraft:sharpness"}], Damage: 0, version: 1, AttributeModifiers: [{Amount: 0.0d, Slot: "offhand", AttributeName: "generic.max_health", Operation: 2, UUID: [I; 0, 2, 0, 1], Name: "HP"}, {Amount: 0.0d, Slot: "offhand", AttributeName: "generic.movement_speed", Operation: 2, UUID: [I; 0, 2, 0, 2], Name: "SPD"}, {Amount: 0.0d, Slot: "offhand", AttributeName: "generic.knockback_resistance", Operation: 2, UUID: [I; 0, 2, 0, 3], Name: "KB"}, {Amount: 0.0d, Slot: "offhand", AttributeName: "generic.attack_damage", Operation: 2, UUID: [I; 0, 2, 0, 4], Name: "ATK"}, {Amount: 0.0d, Slot: "offhand", AttributeName: "generic.armor", Operation: 2, UUID: [I; 0, 2, 0, 5], Name: "AMR"}, {Amount: 0.0d, Slot: "offhand", AttributeName: "generic.attack_speed", Operation: 2, UUID: [I; 0, 2, 0, 6], Name: "ATS"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.max_health", Operation: 2, UUID: [I; 0, 1, 0, 7], Name: "HP"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.movement_speed", Operation: 2, UUID: [I; 0, 1, 0, 8], Name: "SPD"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.knockback_resistance", Operation: 2, UUID: [I; 0, 1, 0, 9], Name: "KB"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.attack_damage", Operation: 2, UUID: [I; 0, 1, 0, 10], Name: "ATK"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.armor", Operation: 2, UUID: [I; 0, 1, 0, 11], Name: "AMR"}, {Amount: 0.0d, Slot: "mainhand", AttributeName: "generic.attack_speed", Operation: 2, UUID: [I; 0, 1, 0, 12], Name: "ATS"}]}
# データ書き換えます
# 条件指定
data modify storage player_item_tuner: condition.if set value {tag:{display:{Name:'{"text":"§f§ktime§3§l時送りの盾§f§ktime"}'}}}
data modify storage player_item_tuner: condition.unless set from storage time_limit:storage shield_data.tag
# 書き換え部分を持ってくる
data modify storage player_item_tuner: result.merge set from storage time_limit:storage shield_data
# give
function #player_item_tuner:modify/inventory
# 演出
# いらん多分
# 進捗剥奪
advancement revoke @s only time_limit:time_limit/interact_villager